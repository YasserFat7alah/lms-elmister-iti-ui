
--------------------------------------------------------------------------------
1. Database Schema & Tables Structure (Extracted from Frontend Analysis)
--------------------------------------------------------------------------------

Based on the analysis of the pages:
- /mood (StudentMoodPage)
- /dashboard/teacher (TeacherDashboard)
- /lesson-builder (LessonBuilder Home)

The following data structures and potential database tables are required:

### 1. MoodEntries (Table/Collection)
Stores daily mood and energy check-ins for students.
- id: String/Number (Unique Identifier)
- studentId: String (Reference to User)
- mood: Number (Scale 1-5)
- energy: Number (Scale 0-100)
- timestamp: Date/ISOString

### 2. Courses (Table/Collection)
Stores course information displayed in the teacher dashboard.
- id: String/Number
- title: String
- type: Enum ('online', 'offline')
- studentsCount: Number (Current enrollment)
- schedule: Object { time: String, date: String }
- revenue: Number (Implied for stats)

### 3. Enrollments / StudentProgress (Table/Collection)
Tracks student participation and progress in courses.
- id: String/Number
- studentId: String (Reference to User)
- courseId: String (Reference to Course)
- studentName: String
- progress: Number (Percentage 0-100)
- lastActive: Date/String

### 4. Notifications (Table/Collection)
System notifications for the teacher.
- id: String/Number
- userId: String (Recipient)
- type: Enum ('assignment', 'payment', 'student', 'lesson')
- message: String
- time: Date/String
- priority: Enum ('high', 'medium', 'low')
- isRead: Boolean

### 5. Tasks (Table/Collection)
To-do list items for the teacher.
- id: String/Number
- title: String
- courseName: String (or courseId reference)
- dueDate: Date/String
- completed: Boolean

### 6. LessonTemplates (Table/Collection)
Templates used in the Lesson Builder.
- id: String/Number
- name: String
- content: JSON/Object (The lesson structure)
- updatedAt: Date
- createdBy: String (UserId)

### 7. Lessons (Table/Collection)
Actual lessons created by users (implied by "History" and "Shared").
- id: String/Number
- title: String
- content: JSON/Object
- status: Enum ('draft', 'published')
- shared: Boolean


--------------------------------------------------------------------------------
2. API Endpoints (Required to power the UI)
--------------------------------------------------------------------------------

### Mood Page Endpoints
Location: src/app/mood/page.jsx

1. GET /api/mood/history
   - Purpose: Retrieve the student's past check-ins.
   - Response: Array of MoodEntries [{ mood, energy, timestamp, ... }]

2. POST /api/mood/check-in
   - Purpose: Submit a new daily mood/energy entry.
   - Body: { mood: number, energy: number }
   - Response: Created MoodEntry object

### Teacher Dashboard Endpoints
Location: src/app/dashboard/teacher/page.jsx

1. GET /api/teacher/stats
   - Purpose: Get aggregate numbers for the top cards (Total Courses, Students, Revenue, Occupancy).
   - Response: { totalCourses, totalStudents, revenue, occupancyRate, ... }

2. GET /api/teacher/courses/upcoming
   - Purpose: List near-future scheduled courses.
   - Response: Array of Courses with schedule info.

3. GET /api/teacher/students/active
   - Purpose: List students with recent activity and progress.
   - Response: Array of StudentProgress objects used in the "Active Students" table.

4. GET /api/notifications
   - Purpose: Fetch recent notifications for the teacher.
   - Response: Array of Notification objects.

5. GET /api/tasks
   - Purpose: Fetch the teacher's to-do list.
   - Response: Array of Task objects.

6. PATCH /api/tasks/:id
   - Purpose: Toggle task completion status.
   - Body: { completed: boolean }

### Lesson Builder Endpoints
Location: src/app/lesson-builder/page.jsx

1. GET /api/templates/recent
   - Purpose: Fetch recently used or available lesson templates.
   - Response: Array of LessonTemplate objects [{ id, name, updatedAt }]

2. GET /api/lessons/history
   - Purpose: Fetch user's previously created lessons (for the "History" link).
   - Response: Array of Lesson objects.

3. GET /api/lessons/shared
   - Purpose: Fetch shared lessons from the community/team.
   - Response: Array of Shared Lesson objects.
